//module de l'exercice 3

const modulefs = require('fs');

var mafonction = function(){
    var long = process.argv.length - 1;

    if(long >= 2){

    var arg = process.argv[long];
    var verif = function(arg){
        modulefs.access(arg, (e) => {
        if(e) 
            console.error('le fichier n\'existe pas'); 
        else
            console.log('le fichier existe, voici son contenu : \n');
            modulefs.readFile(arg, (err,data) => {
            if(!err)
                console.log(data.toString('utf8') + '\n');
            });
        });
    }
    verif(arg);

    }
    else{

    console.log('veuillez renseigner un argument');
    
    }
}

module.exports.mafonction = mafonction();